# 脑洞可行方案

## 方案 A：低风险闭环（推荐先落地）
- 每日巡检：构建、测试、静态扫描、TODO/FIXME 聚合。
- 自动提 Issue：按日期聚合，避免刷屏。
- 自动修复：只处理 `autofix + bug` 标签的 Issue，并要求显式修复命令。
- 自动提 PR：不自动 merge，保留人工审核。

## 方案 B：AI 修复增强
- 在 `auto_fix.sh` 中接入 LLM，输入 Issue + 最近失败日志 + 相关文件。
- 模型生成 patch 后执行测试，测试通过才提 PR。
- 失败则回写 Issue 评论，附失败原因与下一步建议。

## 方案 C：多 Agent 并行改进
- 每日扫描按领域拆分：测试失败、依赖升级、安全风险、代码风格。
- 每类由独立工作流生成子 Issue，减少单条 Issue 过长。
- 用统一“周报工作流”汇总状态并给维护者发报告。

## 方案 D：工作流自优化
- 统计过去 7 天失败步骤，自动识别最不稳定 Job。
- 自动提“CI 优化 Issue”：缓存策略、并行度、重试策略、分层测试。
- Dependabot 自动更新 Action；关键 Action 保持 pinned SHA。

## 关键风险
- 从 Issue 执行命令存在安全风险，必须限制仓库权限与 Runner 范围。
- 自动修复容易产生噪音 PR，建议加“连续失败熔断”。
- 大仓库扫描耗时高，建议目录白名单和分层扫描。
